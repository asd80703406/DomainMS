webpackJsonp([6],{OreX:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l("Y+YH"),a=l("bVxD"),s=l("/Xao"),n=s(i.a,a.a,!1,null,null,null);t.default=n.exports},"Y+YH":function(e,t,l){"use strict";var i=l("aA9S"),a=l.n(i),s=l("o3g8");t.a={data:function(){return{formLabelWidth:"120px",pivileage:null,checkedKey:null,isIndeterminate:!0,list:null,total:null,choices:null,listLoading:!0,listQuery:{page:1,pagesize:20},temp:{username:"",perms:""},dialogFormVisible:!1,dialogStatus:"",data2:[{id:"1",label:"SSL证书",children:[{id:"1c",label:"分发"},{id:"1u",label:"修改"},{id:"1d",label:"删除"},{id:"1l",label:"上传"}]},{id:"2",label:"nginx服务器",children:[{id:"2c",label:"增加"},{id:"2u",label:"修改"},{id:"2r",label:"请求"},{id:"2n",label:"连接"},{id:"2d",label:"删除"},{id:"2l",label:"上传"},{id:"2s",label:"重启"},{id:"2k",label:"检查"},{id:"2t",label:"切换"}]},{id:"3",label:"domain管理",children:[{id:"3c",label:"增加"},{id:"3u",label:"修改"},{id:"3r",label:"查询"},{id:"3d",label:"删除"}]},{id:"4",label:"User"}],defaultProps:{children:"children",label:"label"}}},created:function(){this.getList(),console.log("geting list..")},methods:{getList:function(){var e=this;this.listLoading=!0,Object(s.b)(this.listQuery).then(function(t){console.log(t.data),e.list=t.data,e.total=t.total,e.listLoading=!1}).catch(function(e){console.log(e)})},handleSizeChange:function(e){this.listQuery.pagesize=e,this.getList()},handleCurrentChange:function(e){this.listQuery.page=e,this.getList()},handleEdit:function(e,t){console.log(t),this.temp=a()({},t),this.checkedKey=this.temp.perms.split(","),console.log(this.checkedKey),this.dialogStatus="edit",this.dialogFormVisible=!0},handleDelete:function(e,t){console.log(e,t)},update:function(){var e=this;this.choices=this.$refs.tree.getCheckedKeys(),console.log(this.choices),this.temp.perms=this.choices.toString(),Object(s.a)(this.temp).then(function(t){console.log(t.data),e.dialogFormVisible=!1,e.$notify({title:"成功",message:t.data.msg,type:"success",duration:2e3}),e.getList()}).catch(function(e){console.log(e)})},getCheckedNodes:function(){console.log(this.$refs.tree.getCheckedNodes())},getCheckedKeys:function(){console.log(this.$refs.tree.getCheckedKeys())}}}},bVxD:function(e,t,l){"use strict";var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:""}},[l("el-table-column",{attrs:{label:"用户名",prop:"username",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{label:"权限",prop:"perms",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{size:"small"},on:{click:function(l){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),l("div",{directives:[{name:"show",rawName:"v-show",value:!e.listLoading,expression:"!listLoading"}],staticClass:"pagination-container"},[l("el-pagination",{attrs:{"current-page":e.listQuery.page,"page-sizes":[20,30,50],"page-size":e.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.$set(e.listQuery,"page",t)}}})],1),e._v(" "),l("el-dialog",{attrs:{title:e.dialogStatus,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[l("el-tree",{ref:"tree",attrs:{data:e.data2,"show-checkbox":"","node-key":"id","default-checked-keys":e.checkedKey,props:e.defaultProps}}),e._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.update}},[e._v("确 定")])],1)],1)],1)},a=[],s={render:i,staticRenderFns:a};t.a=s},o3g8:function(e,t,l){"use strict";function i(e){return Object(s.a)({url:"/user/getPerm",method:"get",params:e})}function a(e){return Object(s.a)({url:"/user/editPerm",method:"post",data:{params:e}})}t.b=i,t.a=a;var s=l("vLgD")}});
//# sourceMappingURL=6.1d82d18c2d184c588d97.js.map